<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>教師端</title>
  <script defer src="./JavaScript/main.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="./JavaScript/teacher.js"></script>
  <!-- jQuery 库 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>
  <header>
    <h2>MyAssess3</h2>
    <!--<h3 id = "tea_logo">教師端</h3>-->
  </header>

  <nav></nav>

  <main id="main" style="overflow-y: auto">
    <div class="tea_btngroup1" id="tea_btngroup1" style="text-align: center">
      <button class="tea_new" id="tea_new" onclick="tea_new()">
        新增題目
      </button>
      <!--<button class = "tea_old" id = "tea_old" style = "margin-left: 10px;" onclick="tea_lookexam()">檢視題目</button>-->
      <button class="tea_change" id="tea_change" style="margin-left: 10px" onclick="tea_change()">
        修改題目
      </button>
      <button class="tea_make_paper_btn" id="tea_make_paper_btn" style="margin-left: 10px" onclick="tea_makepaper()">
        製作考卷
      </button>
    </div>
    <!--
        <div class = "tea_btngroup2" id = "tea_btngroup2" style="display: none; text-align: center;">
            <button class = "tea_look" id = "tea_look">瀏覽題目</button>
            <button class = "tea_revise" id = "tea_revise" style = "margin-left: 10px;">修改題目</button>
        </div>
        -->
    <div class="tea_new_page" id="tea_new_page" style="display: none">
      <br />
      <h3 class="new_introduce_title" id="new_introduce_title">
        MyAssess3 新增題目介面使用說明
      </h3>
      <div class="new_introduce" id="new_introduce">
        <p>1.新增題目介面</p>
        <img src="./background/介面.png" wigth="300" height="200" />
        <p>2. 新增題幹</p>
        <img src="./background/新增題幹.png" wigth="300" height="200" />
        <p>3. 新增3個選項</p>
        <img src="./background/題目選項.png" wigth="300" height="200" />
        <p>4. 新增題目關鍵字</p>
        <p style="font-size: smaller;">可按旁邊的下拉式選單選擇想使用的關鍵字，按下確定後選定關鍵字，或者自行輸入關鍵字</p>
        <img src="./background/關鍵字.png" wigth="300" height="200" />
        <br />
        <div style="position: relative; height: 80px">
          <button class="new_confirm" id="new_confirm" onclick="tea_new_confirm()"
            style="position: absolute; bottom: 10px; right: 10px">
            繼續
          </button>
        </div>

        <!--style="position: absolute; bottom: 10px; right: 10px"-->
      </div>
    </div>

    <!--新增題目區-->
    <div class="tea_neww" id="tea_neww" style="display: none">
      <button type="button" id="goback_btngrp1" style="position: absolute; top: 10px; left: 10px"
        onclick="goback_btngrp1()">
        < 教師端首頁 </button>
          <br />
          <div id="upload_area">
            <div id="upload_text_area">
              <br />
              <div class="container">
                <div class="row">
                  <div class="col-9">
                    <h4 id="add_question_sid" style="color: #A86E52;"></h4>
                  </div>
                  <div class="col-2">
                  </div>

                  <div class="col-10">

                    <div class="d-flex">
                      <div style="display: flex; justify-content: center; align-items: center; width:15%">
                        <label>正確選項</label>
                      </div>

                      <textarea class="form-control" placeholder="輸入題目說明" id="info"
                        style="height: 60px; width: 70%;"></textarea>

                      <form id="uploadForm1" enctype="multipart/form-data">
                        <input type="file" style="display: none;" name="add_videoFile1" id="add_videoFile1"
                          onchange="isSelectedFile(this,'add_videoFile_span1')">
                      </form>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="$('#add_videoFile1').click()">選擇影片</button>
                      <div class="align-self-center">
                        <span id="add_videoFile_span1" class="badge"
                          style="color: #A86E52;text-align: center;">未選擇任何檔案</span>
                      </div>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="upload('uploadForm1',1,'add_uploadStatus1','add_videoFile1','add_isUpload1')">新增影片</button>

                      <div id="add_uploadStatus1"></div>
                      <input type="hidden" id="add_isUpload1" value="0">
                    </div>

                    <br>
                    <!--原本有floating lable的版本
                  <div class="form-floating m-1">
                    <textarea
                      class="form-control"
                      placeholder="輸入題目說明"
                      id="info"
                      style="height: 60px"
                    ></textarea>
                    <label for="floatingTextarea2">
                      <p class="fw-light" style="font-size: 15px">題目說明</p>
                    </label>
                  </div>
                  -->
                    <div class="d-flex">
                      <div style="display: flex; justify-content: center; align-items: center; width:15%">
                        <input type="radio" name="group1" val='A' class="form-check-input" checked />(A)
                      </div>
                      <textarea class="form-control" placeholder="選項1" id="option1"
                        style="height: 60px; width: 80%;"></textarea>

                      <form id="uploadForm2" enctype="multipart/form-data">
                        <input type="file" style="display: none;" name="add_videoFile2" id="add_videoFile2"
                          onchange="isSelectedFile(this,'add_videoFile_span2')">
                        <!-- <button type="button" id="uploadButton">上传视频</button> -->
                      </form>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="$('#add_videoFile2').click()">選擇影片</button>
                      <div class="align-self-center">
                        <span id="add_videoFile_span2" class="badge"
                          style="color: #A86E52;text-align: center;">未選擇任何檔案</span>
                      </div>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="upload('uploadForm2',2,'add_uploadStatus2','add_videoFile2','add_isUpload2')">新增影片</button>

                      <div id="add_uploadStatus2"></div>
                      <input type="hidden" id="add_isUpload2" value="0">

                    </div>
                    <br>
                    <div class="d-flex">
                      <div style="display: flex; justify-content: center; align-items: center; width:15%"> <input
                          type="radio" name="group1" class="form-check-input" val='B' />(B)</div>
                      <textarea class="form-control" placeholder="選項2" id="option2"
                        style="height: 60px; width: 80%;"></textarea>

                      <form id="uploadForm3" enctype="multipart/form-data">
                        <input type="file" style="display: none;" name="add_videoFile3" id="add_videoFile3"
                          onchange="isSelectedFile(this,'add_videoFile_span3')">
                        <!-- <button type="button" id="uploadButton">上传视频</button> -->
                      </form>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="$('#add_videoFile3').click()">選擇影片</button>
                      <div class="align-self-center">
                        <span id="add_videoFile_span3" class="badge"
                          style="color: #A86E52;text-align: center;">未選擇任何檔案</span>
                      </div>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="upload('uploadForm3',3,'add_uploadStatus3','add_videoFile3','add_isUpload3')">新增影片</button>

                      <div id="add_uploadStatus3"></div>
                      <input type="hidden" id="add_isUpload3" value="0">


                    </div>
                    <br>
                    <div class="d-flex">
                      <div style="display: flex; justify-content: center; align-items: center; width:15%"> <input
                          type="radio" name="group1" class="form-check-input" val='C' />(C)</div>
                      <textarea class="form-control" placeholder="選項3" id="option3"
                        style="height: 60px; width: 80%;"></textarea>

                      <form id="uploadForm4" enctype="multipart/form-data">
                        <input type="file" style="display: none;" name="add_videoFile4" id="add_videoFile4"
                          onchange="isSelectedFile(this,'add_videoFile_span4')">
                        <!-- <button type="button" id="uploadButton">上传视频</button> -->
                      </form>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="$('#add_videoFile4').click()">選擇影片</button>
                      <div class="align-self-center">
                        <span id="add_videoFile_span4" class="badge"
                          style="color: #A86E52;text-align: center;">未選擇任何檔案</span>
                      </div>
                      <button type="button" class="btn btn-outline-secondary ms-2"
                        onclick="upload('uploadForm4',4,'add_uploadStatus4','add_videoFile4','add_isUpload4')">新增影片</button>

                      <div id="add_uploadStatus4"></div>
                      <input type="hidden" id="add_isUpload4" value="0">

                    </div>

                  </div>
                </div>
              </div>
            </div>
            <div id="upload_video_area" style="display: none">
              <br />
              <div class="container">
                <div class="row">
                  <div class="col-9">
                    <div class="mb-3">
                      <!--<label for="formFile" class="form-label">上傳影片檔</label>-->
                      <input class="form-control" type="file" id="formFile" />
                    </div>
                  </div>
                  <div class="col-3">
                    <button type="button" class="btn btn-outline-secondary">
                      上傳影片
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="container" style="position: absolute; bottom: 10px">
            <div class="row">
              <div class="col-7">
                <form name="form1">
                  <div class="row g-3">
                    <div class="col">
                      <textarea class="form-control" placeholder="輸入題目關鍵字" id="keywordTextArea" style="height: 40px"
                        name="text1"></textarea>
                    </div>
                    <div class="col">
                      <select class="form-select" aria-label="Default select example" id="keywords" name="keywords">
                        <option selected>關鍵字範例</option>
                        <option value="python">python</option>
                        <option value="運算思維">運算思維</option>
                        <option value="c++">c++</option>
                        <option value="java">java</option>
                        <option value="html">html</option>
                      </select>
                    </div>
                  </div>
                </form>
              </div>
              <div class="col">
                <button type="button" class="btn btn-outline-secondary" onclick="form1.text1.value=form1.keywords.value"
                  style="width: 100%">
                  確定
                </button>
              </div>
              <div class="col-3">
                <button type="button" class="btn btn-secondary" style="width: 100%" onclick="upload_done()">
                  確定新增題目
                </button>
              </div>
            </div>
          </div>
    </div>

    <!--修改題目-->
    <div class="tea_change_page" id="tea_change_page" style="display: none">
      <button type="button" id="goback_btngrp1" style="position: absolute; top: 10px; left: 10px"
        onclick="goback_btngrp1_2()">
        < 教師端首頁 </button>
          <div class="container" style="width: 95%; position: absolute; top: 50px; left: 10px">
            <div class="row">
              <div class="col-7">
                <form name="form2">
                  <div class="row g-3">
                    <div class="col">
                      <textarea class="form-control" placeholder="輸入題目關鍵字" id="floatingTextarea3" style="height: 40px"
                        name="text2"></textarea>
                    </div>
                    <div class="col">
                      <select class="form-select" aria-label="Default select example" id="keywords2" name="keywords2">
                        <option selected>關鍵字範例</option>
                        <option value="python">python</option>
                        <option value="運算思維">運算思維</option>
                        <option value="c++">c++</option>
                        <option value="java">java</option>
                        <option value="html">html</option>
                      </select>
                    </div>
                  </div>
                </form>
              </div>
              <div class="col">
                <button type="button" class="btn btn-outline-secondary"
                  onclick="form2.text2.value=form2.keywords2.value" style="width: 100%">
                  確定
                </button>
              </div>
              <div class="col-3">
                <button type="button" class="btn btn-secondary" style="width: 100%">
                  查詢關鍵字
                </button>
              </div>
            </div>
            <div class="tablee" id="tablee">
              <br />
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">題號</th>
                    <th scope="col">題幹</th>
                    <th scope="col">關鍵字</th>
                    <th scope="col">修改題目</th>
                  </tr>
                </thead>
                <tbody id="change-question-table-body"></tbody>
              </table>
            </div>
          </div>
    </div>

    <!--製作考卷介面使用說明-->
    <div class="tea_make_paper_intro" id="tea_make_paper_intro" style="display: none">
      <br />
      <h3 class="makepaper_introduce_title" id="makepaper_introduce_title">
        MyAssess3 製作考卷介面使用說明
      </h3>
      <div class="makepaper_introduce" id="makepaper_introduce">
        <p>1. 製作考卷介面</p>
        <p style="font-size: smaller;">可輸入考卷代碼（如20230901pre_test等），按「加入題目」將題目加入至考卷中，按「完成考卷」將考卷存檔</p>
        <img src="./background/製作考卷.png" wigth="300" height="200" />
        <p>2. 加入題目</p>
        <p style="font-size: smaller;">用關鍵字查詢想要的題目，並選擇想要加入考卷的題目，按「繼續加入題目」回到製作考卷介面，已經加入的題目會顯示在下方，也可以繼續加入其他題目到考卷中</p>
        <img src="./background/加入題目.png" wigth="300" height="200" />
        <br />
        <div style="position: relative; height: 80px">
          <button class="makepaper_confirm" id="makepaper_confirm" onclick="makepaper_confirm()"
            style="position: absolute; bottom: 10px; right: 10px">
            繼續
          </button>
        </div>
      </div>
    </div>

    <!--製作考卷-->
    <div class="tea_make_paper_page" id="tea_make_paper_page" style="display: none">
      <button type="button" id="goback_btngrp1" style="position: absolute; top: 10px; left: 10px"
        onclick="goback_btngrp1_3()">
        < 教師端首頁 </button>
          <div id="makepaper1">
            <p style="height: 10px; width: 100%;"></p>
            <div style="display: flex; justify-content: center;">
              <textarea class="form-control" placeholder="輸入考卷代碼" id="id_of_paper"
                style="height: 40px; width: 50%; margin-left: 20px; margin-top: 30px;"></textarea>
            </div>
          </div>
          <p style="height: 5px; width: 100%;"></p>
          <div style="display: flex; justify-content: center;">
            <button type="button" class="btn btn-outline-secondary" id="paper_newq" onclick="paper_newq()">加入題目</button>
            <button type="button" class="btn btn-outline-secondary" id="paper_finish" style="margin-left: 10px"
              onclick="paper_finish()">完成考卷</button>
            <button class="btn btn-outline-secondary" style="margin-left: 10px" onclick="btn_queryPaper()">查詢</button>
          </div>
          <div id="exam_div" style="text-align: center; margin-top: 30px;">

          </div>
    </div>
    <!--這邊應該要改php，這個是從上面修改題目那邊複製過來的，想改成後面有個按鈕可以選擇題目，動態新增跟關鍵字查詢功能不變-->
    <div id="makepaper2" style="display: none">
      <div class="container" style="height: 90%; width: 95%; position: absolute; top: 50px; left: 10px">
        <div class="row">
          <div class="col-7">
            <form name="form3">
              <div class="row g-3">
                <div class="col">
                  <textarea class="form-control" placeholder="輸入題目關鍵字" id="floatingTextarea4" style="height: 40px"
                    name="text3"></textarea>
                </div>
                <div class="col">
                  <select class="form-select" aria-label="Default select example" id="keywords3" name="keywords3">
                    <option selected>關鍵字範例</option>
                    <option value="python">python</option>
                    <option value="運算思維">運算思維</option>
                    <option value="c++">c++</option>
                    <option value="java">java</option>
                    <option value="html">html</option>
                  </select>
                </div>
              </div>
            </form>
          </div>
          <div class="col">
            <button type="button" class="btn btn-outline-secondary" onclick="form3.text3.value=form3.keywords3.value"
              style="width: 100%">
              確定
            </button>
          </div>
          <div class="col-3">
            <button type="button" class="btn btn-secondary" style="width: 100%" onclick="get_question_byParas()">
              查詢關鍵字
            </button>
          </div>

        </div>
        <div class="row" style="padding-top: 30px;">
          <div class="col-6">
            <h3>已選擇題目</h3>
          </div>
          <div class="col-6">
            <h3>已查詢題目</h3>
          </div>

          <div class="tablee col-6" id="tableee"  style="height: 500px;overflow-y: auto;">
            <br />
            <table class="table table-striped" id="createExam_tablee1">
              <thead style="position: sticky; top: 0;background-color: #F2EEED;">
                <tr>
                  <!-- <th scope="col">題號</th>
                  <th scope="col">題幹</th>
                  <th scope="col">關鍵字</th>
                  <th scope="col">選擇題目</th> -->
                  <th>題號</th>
                  <th>題幹</th>
                  <th>關鍵字</th>
                  <th>選擇題目</th>
                </tr>
              </thead>
              <tbody id="change-question-table-body"></tbody>
            </table>
          </div>

          <div class="tablee col-6" id="tablee" style="height: 500px;overflow-y: auto;">
            <br />
            <table class="table table-striped" id="createExam_tablee2">
              <thead style="position: sticky; top: 0;background-color: #F2EEED;">
                <tr>
                  <th>題號</th>
                  <th>題幹</th>
                  <th>關鍵字</th>
                  <th>選擇題目</th>
                </tr>
              </thead>
              <tbody id="change-question-table-body"></tbody>
            </table>
          </div>
        </div>
      </div>
      <button class="goto_makepaper1" id="goto_makepaper1" onclick="goto_makepaper1()"
        style="position: absolute; bottom: 10px; right: 10px">
        繼續加入題目
      </button>
    </div>
    </div>
  </main>

  <footer>
    <h10>維運團隊: </h10>
  </footer>
</body>

</html>